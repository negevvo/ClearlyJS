{"version":3,"file":"bundle.cjs.js","sources":["../node_modules/tslib/tslib.es6.js","../src/clearly.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/**\r\n * ClearlyJS (Now in TS)\r\n * @author Negev Volokita (negevvo)\r\n * @version 1.0-preview\r\n */\r\n\r\ntype TagNames = HTMLElementTagNameMap & { \"\": HTMLElement };\r\n\r\ninterface ClearlyHTMLElementBase<T extends keyof TagNames> {\r\n    styles?: Partial<CSSStyleDeclaration> | string;\r\n    readonly isClearlyHTML: boolean;\r\n    readonly isClearlyComponent?: boolean;\r\n    render?: boolean | string;\r\n    parent?: HTMLElement | ClearlyHTMLElement | ClearlyComponent;\r\n    readonly editAttributes: (\r\n        attributes: Partial<ClearlyHTMLElementBase<T>>\r\n    ) => void;\r\n}\r\n\r\nexport type ClearlyHTMLElement<T extends keyof TagNames = \"\"> =\r\n    ClearlyHTMLElementBase<T> &\r\n        Omit<(HTMLElementTagNameMap & { \"\": HTMLElement })[T], \"style\">;\r\n\r\nexport type ClearlyComponentProps<T = {}> = T & {\r\n    [key: string | number | symbol]: any;\r\n    children?: ClearlyNode[];\r\n};\r\n\r\nexport type ClearlyInitializeOptions = {\r\n    title?: string;\r\n    ogTitle?: string;\r\n    description?: string;\r\n    ogDescription?: string;\r\n    icon?: string;\r\n    ogImage?: string;\r\n    theme?: string;\r\n    dir?: \"rtl\" | \"ltr\";\r\n    mobile?: boolean | \"app\";\r\n};\r\n\r\n/**\r\n * ClearlyJS components are reuseable DIY elements.\r\n * to make one - inherit from the \"clrly.component\" class.\r\n */\r\nexport class ClearlyComponent<T = {}> {\r\n    readonly state: ClearlyComponentProps<T> = {} as any;\r\n    readonly HTML: ClearlyHTMLElement | HTMLElement = undefined as any;\r\n    readonly isClearlyComponent: boolean = true;\r\n\r\n    constructor(props: ClearlyComponentProps<T>, makeState: boolean = true) {\r\n        if (this.constructor === clrly.component) {\r\n            throw new Error(\r\n                \"clrly.component is not an initializeable object, make your own component\"\r\n            );\r\n        }\r\n\r\n        if (makeState) {\r\n            this.state = props;\r\n            this.makeState();\r\n        }\r\n    }\r\n    start(): void {}\r\n    element(): HTMLElement | ClearlyHTMLElement {\r\n        throw new Error(\"the element function must be provided\");\r\n    }\r\n    style(): string {\r\n        return \"\";\r\n    }\r\n    /**\r\n     * Re-render the component's content, after change.\r\n     * May be enabled automatically with the \"makeState\" method\r\n     * @param callStart (optional) whether or not to call the \"start\" function while updating, default is true.\r\n     */\r\n    update(callStart: boolean = true): void {\r\n        const el = this.element();\r\n        (el as any).style = this.style();\r\n        this.HTML?.parentNode?.replaceChild(el, this.HTML);\r\n        (this as any).HTML = el;\r\n        if (callStart) this.start();\r\n    }\r\n    /**\r\n     * Register a state object to the component.\r\n     * A state object is an object containing the current properties of the component.\r\n     * The state object listens to changes, and updates the component on change.\r\n     * @param stateObjName name of the state object to register - existing or new.\r\n     * @param callStart (optional) whether or not to call the \"start\" function while updating the component.\r\n     * @param callback (optional) a callback function for a state update; gets the key and value of the changed state field.\r\n     */\r\n    makeState(\r\n        stateObjName: string = \"state\",\r\n        callStart?: boolean,\r\n        callback?: (key: string | symbol, value: string) => void\r\n    ): ClearlyComponentProps<T> {\r\n        const context: any = this;\r\n        if (!context[stateObjName]) context[stateObjName] = {};\r\n        return (context[stateObjName] = new Proxy(context[stateObjName], {\r\n            set: function (object, key, value) {\r\n                if (object[key] !== value) {\r\n                    object[key] = value;\r\n                    context.update(callStart);\r\n                    if (callback) callback(key, value);\r\n                }\r\n                return true;\r\n            },\r\n        }));\r\n    }\r\n    /**\r\n     * Remove the update listener from the state object.\r\n     * @param stateObjName name of the state object.\r\n     */\r\n    destroyState(stateObjName = \"state\"): void {\r\n        const context: any = this;\r\n        context[stateObjName] = { ...context[stateObjName] };\r\n    }\r\n}\r\n\r\n/**\r\n * ClearlyJS components are reuseable DIY elements.\r\n * to make one - inherit from the \"clrly.component\" class or use the ClearlyFC type.\r\n */\r\nexport type ClearlyFC<T = {}> = (\r\n    state: ClearlyComponentProps<T>,\r\n    context: ClearlyComponent<T>,\r\n    localContext: { [key: string | number | symbol]: any }\r\n) => ClearlyHTMLElement | HTMLElement;\r\n\r\nexport type ClearlyNode =\r\n    | ClearlyHTMLElement\r\n    | ClearlyComponent\r\n    | (ClearlyHTMLElement | ClearlyComponent)[]\r\n    | ClearlyNode[];\r\n\r\ntype ClearlyNewElementType = keyof HTMLElementTagNameMap | (string & {});\r\n\r\ntype ClearlyNewClearType = \"clear\" | null;\r\n\r\ntype ClearlyNewComponentType<T = {}> =\r\n    | \"component\"\r\n    | typeof ClearlyComponent<T>\r\n    | ClearlyFC<T>;\r\n\r\ntype ClearlyNewType<T = {}> =\r\n    | ClearlyNewElementType\r\n    | ClearlyNewComponentType<T>\r\n    | ClearlyNewClearType;\r\n\r\ntype ClearlySwitcherCurrent = { name: string; props?: any };\r\ntype ClearlyRouterCurrent = {\r\n    route: string;\r\n    props?: any;\r\n    browserNavigation?: boolean;\r\n};\r\n\r\nexport class clrly {\r\n    // **************************** HTML ELEMENTS AND COMPONENTS ****************************\r\n\r\n    static component = ClearlyComponent;\r\n\r\n    /**\r\n     * Makes a new ClearlyHTML element with a type, attributes and children.\r\n     * @param type Type of the element.\r\n     * @param props (optional) list of the element's attributes: {id: \"hello\", class: \"someElement\", parent: document.body, innerHTML: \"Hello World\"} etc.\r\n     * @param children (optional) children of the element.\r\n     * @returns an HTML element.\r\n     */\r\n    static new<T extends ClearlyNewType<any>>(\r\n        type: T,\r\n        props?: (T extends ClearlyNewComponentType<infer P> | ClearlyFC<infer P>\r\n            ? Partial<P & { from?: typeof ClearlyComponent<P> | ClearlyFC<P> }>\r\n            : T extends keyof HTMLElementTagNameMap\r\n            ? Partial<ClearlyHTMLElement<T>>\r\n            : Partial<ClearlyHTMLElement>) & {\r\n            [key: string]: any;\r\n        },\r\n        ...children: ClearlyNode[]\r\n    ): T extends ClearlyNewComponentType<infer P> | ClearlyFC<infer P>\r\n        ? ClearlyComponent<P>\r\n        : T extends ClearlyNewClearType\r\n        ? ClearlyNode\r\n        : T extends keyof HTMLElementTagNameMap\r\n        ? ClearlyHTMLElement<T>\r\n        : ClearlyHTMLElement {\r\n        const elementProps: any = props || {};\r\n        if (\r\n            (type === \"component\" || typeof type != typeof \"\") &&\r\n            type !== null\r\n        ) {\r\n            return this.#newElementFromComponent(\r\n                type === \"component\"\r\n                    ? elementProps.from\r\n                    : (type as ClearlyNewComponentType),\r\n                elementProps,\r\n                children\r\n            ) as any;\r\n        } else if (type == \"clear\" || type === null) {\r\n            this.render(children);\r\n            this.editAttributes(children, elementProps);\r\n            return children as any;\r\n        }\r\n        const newElement = this.#newElement(\r\n            type as string,\r\n            elementProps.render !== false && elementProps.render !== \"false\"\r\n        ) as ClearlyHTMLElement | HTMLElement;\r\n        this.editAttributes(newElement, elementProps);\r\n        this.#appendChildrenToElement(newElement, children);\r\n        /**\r\n         * Edits the element's attributes.\r\n         * @param {{}} attributes attributes to change.\r\n         * @returns the element.\r\n         */\r\n        (newElement as any).editAttributes = (\r\n            attributes: Partial<ClearlyHTMLElement>\r\n        ) => {\r\n            clrly.editAttributes(newElement, attributes);\r\n        };\r\n        (newElement as any).isClearlyHTML = true;\r\n        return newElement as any;\r\n    }\r\n\r\n    static #appendChildrenToElement(\r\n        element: HTMLElement | ClearlyHTMLElement,\r\n        children?: (ClearlyNode | undefined)[]\r\n    ) {\r\n        if (children) {\r\n            for (let child of children) {\r\n                if (Array.isArray(child)) {\r\n                    this.#appendChildrenToElement(element, child);\r\n                } else {\r\n                    try {\r\n                        if ((child as ClearlyComponent).isClearlyComponent) {\r\n                            child = (child as ClearlyComponent).HTML as any;\r\n                        }\r\n                        element.appendChild(\r\n                            (child as Node).nodeType == null\r\n                                ? document.createTextNode(\r\n                                      (child as Node).toString()\r\n                                  )\r\n                                : (child as Node)\r\n                        );\r\n                    } catch (e) {}\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Shows or removes an element from the screen.\r\n     * @param toRender an element to render or remove.\r\n     * @param render (optional) render or remove from page?\r\n     * @param parent (optional) parent to render to.\r\n     */\r\n    static render(\r\n        toRender: ClearlyNode | HTMLElement,\r\n        render: boolean = true,\r\n        parent: HTMLElement | ClearlyHTMLElement = document.body\r\n    ) {\r\n        if (Array.isArray(toRender)) {\r\n            for (const element of toRender)\r\n                this.render(element, render, parent);\r\n            return;\r\n        }\r\n        const el: HTMLElement = (toRender as ClearlyComponent)\r\n            .isClearlyComponent\r\n            ? ((toRender as ClearlyComponent).HTML as HTMLElement)\r\n            : (toRender as HTMLElement);\r\n        if (render) parent.appendChild(el);\r\n        else el.remove();\r\n    }\r\n\r\n    static #newElement(type: string, render = true) {\r\n        const newElement = document.createElement(type);\r\n        if (render) this.render(newElement, render);\r\n        return newElement;\r\n    }\r\n\r\n    static #newElementFromComponent(\r\n        from: ClearlyNewComponentType,\r\n        props: ClearlyComponentProps,\r\n        children: ClearlyNode[]\r\n    ) {\r\n        let objectClass = from;\r\n        if (!objectClass || typeof objectClass !== \"function\") {\r\n            throw new Error(\"Cannot find the component\");\r\n        }\r\n\r\n        props.children = children;\r\n\r\n        if (!/^\\s*class\\s+/.test(objectClass.toString())) {\r\n            const elementFunc = objectClass;\r\n            const localContext = {};\r\n            objectClass = class extends ClearlyComponent {\r\n                element(): HTMLElement | ClearlyHTMLElement {\r\n                    return (elementFunc as ClearlyFC)(\r\n                        this.state,\r\n                        this,\r\n                        localContext\r\n                    );\r\n                }\r\n            };\r\n        }\r\n\r\n        let obj = new (objectClass as typeof ClearlyComponent)(props);\r\n        const el = obj.element();\r\n\r\n        const style = obj.style();\r\n        if (style) (el as any).style = style;\r\n\r\n        (obj as any).HTML = el;\r\n        (obj as any).isClearlyComponent = true;\r\n        if (obj.start) obj.start();\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * Edits the given element's attributes (or all elements in a certain array).\r\n     * @param element HTML element or an array of elements.\r\n     * @param attributes attributes to change.\r\n     * @returns the element (or the array).\r\n     */\r\n    static editAttributes(\r\n        element: ClearlyNode | HTMLElement | (ClearlyNode | HTMLElement)[],\r\n        attributes: Partial<ClearlyHTMLElement | ClearlyComponentProps>\r\n    ) {\r\n        if (Array.isArray(element)) {\r\n            for (const el of element) {\r\n                this.editAttributes(el, attributes);\r\n            }\r\n            return element;\r\n        }\r\n        if (attributes) {\r\n            const isComponent = (element as ClearlyComponent)\r\n                .isClearlyComponent;\r\n            for (const attribute in attributes) {\r\n                if (attribute !== \"parent\" && attribute !== \"innerHTML\") {\r\n                    const type = typeof (attributes as any)[attribute];\r\n                    if (\r\n                        type === \"function\" ||\r\n                        type === \"object\" ||\r\n                        isComponent\r\n                    ) {\r\n                        (element as any)[attribute] = (attributes as any)[\r\n                            attribute\r\n                        ];\r\n                    } else {\r\n                        (element as HTMLElement).setAttribute(\r\n                            attribute,\r\n                            (attributes as any)[attribute]\r\n                        );\r\n                    }\r\n                }\r\n                if (attributes[\"parent\"]) {\r\n                    const parent = attributes[\"parent\"];\r\n                    parent.appendChild(element);\r\n                }\r\n                if (attributes[\"innerHTML\"]) {\r\n                    (element as HTMLElement).innerHTML =\r\n                        attributes[\"innerHTML\"];\r\n                }\r\n            }\r\n        }\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * adds HTML code into document.\r\n     * @param HTML HTML code to be added.\r\n     * @param parent (optional) parent element for the code to be inserted in.\r\n     * @returns the HTML code.\r\n     */\r\n    static add(HTML: string, parent: HTMLElement = document.documentElement) {\r\n        try {\r\n            parent.innerHTML += HTML;\r\n            return HTML;\r\n        } catch (e) {}\r\n    }\r\n\r\n    /**\r\n     * Get an element by Query selector.\r\n     * @param selector Query selector.\r\n     * @returns the first element that matches the selector, or null.\r\n     */\r\n    static $(selector: string) {\r\n        return document.querySelector(selector);\r\n    }\r\n\r\n    /**\r\n     * Get elements by Query selector.\r\n     * @param selector Query selector.\r\n     * @returns all elements with the specified Query selector, or an empty array.\r\n     */\r\n    static $$(selector: string) {\r\n        return document.querySelectorAll(selector);\r\n    }\r\n\r\n    /**\r\n     * Get elements by attribute.\r\n     * @param attribute attribute name of the elements.\r\n     * @param value value of the attribute.\r\n     * @returns all elements with the specified attribute and attribute value, or an empty array.\r\n     * @see xattribute\r\n     */\r\n    static byAttribute(attribute: string | keyof HTMLElement, value: any) {\r\n        return this.$$(`[${attribute}=\"${value}\"]`);\r\n    }\r\n\r\n    /**\r\n     * Import style / script.\r\n     * @param toImport resources to import (as an array of strings or a single string).\r\n     * @param attributes {defer: true, type: \"module\"} etc...\r\n     * @param callback a function to be called after all resources loaded.\r\n     * @returns An array with all imported resources\r\n     */\r\n    static import(\r\n        toImport: string | string[],\r\n        attributes?: Partial<HTMLScriptElement & HTMLLinkElement>,\r\n        callback?: () => void\r\n    ) {\r\n        if (!Array.isArray(toImport)) toImport = [toImport];\r\n        this.#importRec(toImport, attributes, callback, 0);\r\n        return toImport;\r\n    }\r\n\r\n    static #importRec(\r\n        toImport: string | string[],\r\n        attributes: Partial<HTMLScriptElement & HTMLLinkElement> | undefined,\r\n        callback: (() => void) | undefined,\r\n        i: number\r\n    ) {\r\n        const link = toImport[i];\r\n        let element;\r\n        if (link.includes(\".css\")) {\r\n            element = clrly.new(\"link\", {\r\n                parent: document.head,\r\n                href: link,\r\n                rel: \"stylesheet\",\r\n            });\r\n        } else {\r\n            element = clrly.new(\"script\", {\r\n                parent: document.head,\r\n                src: link,\r\n                ...attributes,\r\n            });\r\n        }\r\n        element.onload = load;\r\n\r\n        function load() {\r\n            if (i === toImport.length - 1) {\r\n                callback?.();\r\n            } else {\r\n                clrly.#importRec(toImport, attributes, callback, i + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set the document's title.\r\n     * @param title the new title.\r\n     * @returns the page's title\r\n     */\r\n    static title(title: string) {\r\n        return (document.title = title);\r\n    }\r\n\r\n    /**\r\n     * Set the OG (Open Graph) title - for social media.\r\n     * @param title the new title.\r\n     */\r\n    static ogTitle(title: string) {\r\n        Array.from(clrly.byAttribute(\"property\", \"og:title\")).forEach(\r\n            (element) => {\r\n                (element as HTMLElement).remove();\r\n            }\r\n        );\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            property: \"og:title\",\r\n            content: title,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set the document's description.\r\n     * @param description the new description.\r\n     */\r\n    static description(description: string) {\r\n        Array.from(clrly.byAttribute(\"name\", \"description\")).forEach(\r\n            (element) => {\r\n                (element as HTMLElement).remove();\r\n            }\r\n        );\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            name: \"description\",\r\n            content: description,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set the OG (Open Graph) description - for social media.\r\n     * @param description the new description.\r\n     */\r\n    static ogDescription(description: string) {\r\n        Array.from(clrly.byAttribute(\"property\", \"og:description\")).forEach(\r\n            (element) => {\r\n                (element as HTMLElement).remove();\r\n            }\r\n        );\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            property: \"og:description\",\r\n            content: description,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set the document's icon.\r\n     * @param src URL of the new icon.\r\n     */\r\n    static icon(src: string) {\r\n        Array.from(clrly.byAttribute(\"rel\", \"icon\")).forEach((element) => {\r\n            (element as HTMLElement).remove();\r\n        });\r\n        clrly.new(\"link\", { parent: document.head, rel: \"icon\", href: src });\r\n    }\r\n\r\n    /**\r\n     * Set the OG (Open Graph) image (cover image) - for social media.\r\n     * @param src URL of the new OG image.\r\n     */\r\n    static ogImage(src: string) {\r\n        Array.from(clrly.byAttribute(\"property\", \"og:image\")).forEach(\r\n            (element) => {\r\n                (element as HTMLElement).remove();\r\n            }\r\n        );\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            property: \"og:image\",\r\n            content: src,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set the document's theme color.\r\n     * @param color theme color (in hex).\r\n     */\r\n    static theme(color: string) {\r\n        Array.from(clrly.byAttribute(\"name\", \"theme-color\"))\r\n            .concat(\r\n                Array.from(\r\n                    clrly.byAttribute(\r\n                        \"name\",\r\n                        \"apple-mobile-web-app-status-bar-style\"\r\n                    )\r\n                )\r\n            )\r\n            .forEach(function (element) {\r\n                (element as HTMLElement).remove();\r\n            });\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            name: \"theme-color\",\r\n            content: color,\r\n        });\r\n        clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            name: \"apple-mobile-web-app-status-bar-style\",\r\n            content: color,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Change the dir attribute of the body element.\r\n     * @param dir direction: RTL or LTR.\r\n     */\r\n    static dir(dir: \"rtl\" | \"ltr\") {\r\n        document.body.dir = dir;\r\n    }\r\n\r\n    /**\r\n     * Make the app more usable to mobile devices.\r\n     * @param value true (default) - only mobile friendly, \"app\" - app mode (not user scalable).\r\n     * @returns the viewport HTML element.\r\n     */\r\n    static mobileFriendly(value: boolean | \"app\" = true) {\r\n        const scalable = value === \"app\" ? \", user-scalable=no\" : \"\";\r\n        return clrly.new(\"meta\", {\r\n            parent: document.head,\r\n            name: \"viewport\",\r\n            content: `width=device-width, initial-scale=1.0${scalable}`,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Initialize the app - set a title, icon, theme color, direction and mobile friendliness.\r\n     * @param options {title: \"title of the app\", description: \"welcome to my app\", icon: \"icon.png\", ogImage: \"og.png\", theme: \"#99ff99\", dir: \"RTL\", mobile: true}.\r\n     * @returns an array of results from the requested options.\r\n     */\r\n    static initialize(options: ClearlyInitializeOptions) {\r\n        const result: { [k in keyof ClearlyInitializeOptions]: any } = {};\r\n        const OPTIONS: { [k in keyof ClearlyInitializeOptions]-?: Function } = {\r\n            title: this.title,\r\n            ogTitle: this.ogTitle,\r\n            description: this.description,\r\n            ogDescription: this.ogDescription,\r\n            icon: this.icon,\r\n            ogImage: this.ogImage,\r\n            theme: this.theme,\r\n            dir: this.dir,\r\n            mobile: this.mobileFriendly,\r\n        };\r\n        for (const optionName in OPTIONS) {\r\n            const option = (OPTIONS as any)[optionName];\r\n\r\n            if ((options as any)[optionName])\r\n                (result as any)[optionName] = option(\r\n                    (options as any)[optionName]\r\n                );\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // **************************** STYLES AND COLORS ****************************\r\n\r\n    /**\r\n     * Add a CSS style.\r\n     * @param {string} style style to be added.\r\n     * @returns the style element created.\r\n     */\r\n    static style(style: string) {\r\n        return clrly.new(\"style\", { parent: document.head, innerHTML: style });\r\n    }\r\n\r\n    /**\r\n     * Converts HEX colors to RGB.\r\n     * @param color HEX or HSL color to convert.\r\n     * @returns an object contains the r (red), g (green) and b (blue) values of the color.\r\n     */\r\n    static toRGB(color: string | { h: number; s: number; l: number }) {\r\n        if (typeof color == \"string\") {\r\n            const hex =\r\n                color.length == 3 ? color.replace(/(.)/g, \"$1$1\") : color;\r\n            const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(\r\n                hex\r\n            );\r\n            return result\r\n                ? {\r\n                      r: parseInt(result[1], 16),\r\n                      g: parseInt(result[2], 16),\r\n                      b: parseInt(result[3], 16),\r\n                  }\r\n                : { r: 0, g: 0, b: 0 };\r\n        } else if (\r\n            typeof color == \"object\" &&\r\n            color.h !== undefined &&\r\n            color.s !== undefined &&\r\n            color.l !== undefined\r\n        ) {\r\n            const h = color.h;\r\n            const s = color.s / 100;\r\n            const l = color.l / 100;\r\n\r\n            const c = s * Math.min(l, 1 - l);\r\n\r\n            const t = (n: number) => (n + h / 30) % 12;\r\n            const intermediate = (x: number) =>\r\n                l - c * Math.max(-1, Math.min(t(x) - 3, Math.min(9 - t(x), 1)));\r\n\r\n            return {\r\n                r: Math.round(255 * intermediate(0)),\r\n                g: Math.round(255 * intermediate(8)),\r\n                b: Math.round(255 * intermediate(4)),\r\n            };\r\n        }\r\n\r\n        return { r: 0, g: 0, b: 0 };\r\n    }\r\n\r\n    /**\r\n     * Converts RGB or HSL colors to HEX.\r\n     * @param color RGB or HSL color to convert, as an object (for example: {r: 204, g: 153, b: 255}).\r\n     * @returns the color as a HEX string.\r\n     */\r\n    static toHEX(\r\n        color:\r\n            | { r: number; g: number; b: number }\r\n            | { h: number; s: number; l: number }\r\n    ) {\r\n        let c = color as any;\r\n        if (c.h !== undefined && c.s !== undefined && c.l !== undefined)\r\n            c = this.toRGB(c);\r\n\r\n        const convert = (value: number) => {\r\n            const hexValue = value.toString(16);\r\n            return hexValue.length == 1 ? \"0\" + hexValue : hexValue;\r\n        };\r\n        return \"#\" + convert(c.r) + convert(c.g) + convert(c.b);\r\n    }\r\n\r\n    /**\r\n     * Converts RGB and HEX colors to HSL.\r\n     * @param color color to convert; HEX string or RGB object (for example: {r: 204, g: 153, b: 255}).\r\n     * @returns the color as an HSL object.\r\n     */\r\n    static toHSL(color: string | { r: number; g: number; b: number }) {\r\n        if (typeof color == \"string\") color = this.toRGB(color);\r\n\r\n        const r = color.r / 255;\r\n        const g = color.g / 255;\r\n        const b = color.b / 255;\r\n\r\n        const max = Math.max(r, g, b);\r\n        const min = Math.min(r, g, b);\r\n\r\n        const d = max - min;\r\n\r\n        let h =\r\n            d == 0\r\n                ? 0\r\n                : max == r\r\n                ? ((g - b) / d) % 6\r\n                : max == g\r\n                ? (b - r) / d + 2\r\n                : (r - g) / d + 4;\r\n\r\n        h = Math.round(h * 60);\r\n        if (h < 0) h += 360;\r\n\r\n        let l = (max + min) / 2;\r\n        let s = d == 0 ? 0 : d / (1 - Math.abs(2 * l - 1));\r\n\r\n        s = +(s * 100).toFixed(1);\r\n        l = +(l * 100).toFixed(1);\r\n\r\n        return {\r\n            h: h,\r\n            s: s,\r\n            l: l,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Changes the brightness of a HEX or RGB color.\r\n     * @param color HEX color or RGB color object (for example {r: 10, g: 100, b: 255}) to change the brightness of.\r\n     * @param {number} level a number between 0 (darkest) to 100 (brightest).\r\n     * @returns the new color, as the input type.\r\n     */\r\n    static colorBrightness(\r\n        color: string | { r: number; g: number; b: number },\r\n        level: number\r\n    ) {\r\n        const returnFunc =\r\n            typeof color === \"object\"\r\n                ? color.r !== undefined &&\r\n                  color.g !== undefined &&\r\n                  color.b !== undefined\r\n                    ? (x: any) => this.toRGB(x)\r\n                    : (x: any) => x\r\n                : (x: any) => this.toHEX(x);\r\n\r\n        const hsl = this.toHSL(color);\r\n\r\n        hsl.l = level;\r\n        return returnFunc(hsl);\r\n    }\r\n\r\n    // **************************** URLS ****************************\r\n\r\n    /**\r\n     * The current URL.\r\n     */\r\n    static get url() {\r\n        return window.location.href;\r\n    }\r\n\r\n    /**\r\n     * The current URL, but without the search and hash elements.\r\n     */\r\n    static get pageUrl() {\r\n        return this.url\r\n            .replace(window.location.search, \"\")\r\n            .replace(window.location.hash, \"\");\r\n    }\r\n\r\n    /**\r\n     * URL hash (#)\r\n     */\r\n    static get hash() {\r\n        return decodeURI(window.location.hash.substring(1));\r\n    }\r\n\r\n    /**\r\n     * URL search (?) (AKA QueryString)\r\n     * to get a value, use: clrly.search.get('parameter')\r\n     */\r\n    static get search() {\r\n        return new URL(window.location.href).searchParams;\r\n    }\r\n\r\n    /**\r\n     * Reloads the page.\r\n     */\r\n    static reload() {\r\n        window.location.reload();\r\n    }\r\n\r\n    /**\r\n     * Redirects to another URL.\r\n     * @param URL URL to be redirected to.\r\n     */\r\n    static redirectTo(URL: string) {\r\n        window.location.replace(URL);\r\n    }\r\n\r\n    /**\r\n     * Go to another url.\r\n     * @param URL URL to go to.\r\n     * @param newWindow (optional) open in a new window, default is false.\r\n     */\r\n    static go(URL: string, newWindow = false) {\r\n        if (newWindow) {\r\n            window.open(URL);\r\n        } else {\r\n            window.location.href = URL;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Opens a new window with the same URL.\r\n     */\r\n    static duplicateWindow() {\r\n        this.go(this.url, true);\r\n    }\r\n\r\n    // **************************** WEB REQUESTS ****************************\r\n\r\n    /**\r\n     * Starts a new AJAX request.\r\n     * @param url URL to send the request to.\r\n     * @param params configuration of the request: {method: \"GET\", mode: \"cors\"}.\r\n     * @param callback a callback function that gets the response text.\r\n     */\r\n    static request(\r\n        url: string,\r\n        params?: RequestInit,\r\n        callback?: (response: string | null) => void\r\n    ) {\r\n        fetch(url, params)\r\n            .then((response) => response.text())\r\n            .then((response) => callback?.(response))\r\n            .catch((e) => callback?.(null));\r\n    }\r\n\r\n    /**\r\n     * Starts a new AJAX request for a JSON file.\r\n     * @param {string} url JSON file URL.\r\n     * @param {{}} params configuration of the request: {method: \"GET\", mode: \"cors\"}.\r\n     * @param {function} callback a callback function that gets the formatted JSON.\r\n     */\r\n    static jsonRequest(\r\n        url: string,\r\n        params?: RequestInit,\r\n        callback?: (response: any | null) => void\r\n    ) {\r\n        fetch(url, params)\r\n            .then((response) => response.json())\r\n            .then((response) => callback?.(response))\r\n            .catch((e) => callback?.(null));\r\n    }\r\n\r\n    /**\r\n     * Starts a new AJAX request for a file.\r\n     * @param url file URL.\r\n     * @param params configuration of the request: {method: \"GET\", mode: \"cors\"}.\r\n     * @param callback a callback function that gets the blob object that represents the file.\r\n     */\r\n    static blobRequest(\r\n        url: string,\r\n        params?: RequestInit,\r\n        callback?: (response: Blob | null) => void\r\n    ) {\r\n        fetch(url, params)\r\n            .then((response) => response.blob())\r\n            .then((response) => callback?.(response))\r\n            .catch((e) => callback?.(null));\r\n    }\r\n\r\n    // **************************** MATH ****************************\r\n\r\n    /**\r\n     * Get a random float between two values (min < x < max when x is the random number).\r\n     * @param min the minimal number.\r\n     * @param max the maximal number.\r\n     * @returns a random float between the two values.\r\n     */\r\n    static random(min: number, max: number) {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n\r\n    /**\r\n     * Get a random integer between two values (min  x  max when x is the random number).\r\n     * @param min the minimal number.\r\n     * @param max the maximal number.\r\n     * @returns a random number between the two values.\r\n     */\r\n    static randomInt(min: number, max: number) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n\r\n    // **************************** FILES AND BLOBS ****************************\r\n\r\n    /**\r\n     * Generates a link to the content as a blob.\r\n     * @param content content to store as blob.\r\n     * @param type MIME type (default: \"text/html;charset=utf-8\").\r\n     * @param bom whether or not to add a BOM signature to the file; default is false.\r\n     * @returns URL of the blob.\r\n     */\r\n    static toFile(\r\n        content: any,\r\n        type: string = \"text/html\",\r\n        bom: boolean = false\r\n    ) {\r\n        const contentArr = [];\r\n        if (bom) contentArr.push(new Uint8Array([0xef, 0xbb, 0xbf]));\r\n        contentArr.push(content);\r\n        return URL.createObjectURL(new Blob(contentArr, { type: type }));\r\n    }\r\n\r\n    /**\r\n     * Downloads a file from a specified URL.\r\n     * @param URL file URL.\r\n     * @param fileName name of the downloaded file (For example: \"MyFile.txt\").\r\n     */\r\n    static download(URL: string, fileName: string) {\r\n        const a = clrly.new(\"a\", { href: URL, download: fileName });\r\n        a.click();\r\n        a.remove();\r\n    }\r\n}\r\n\r\n// **************************** SWITCHER AND ROUTER ****************************\r\n\r\n/**\r\n * The base class for a switchable component - for the ClearlyJS Switcher and Router.\r\n * Inherit from this class and override the constructor, \"element\", and \"onSwitch\" methods to make your own switchable pages and parts.\r\n */\r\nexport class Switchable<T = {}> extends ClearlyComponent<T> {\r\n    /**\r\n     * Sprops is an object with additional properties that is passed on switch.\r\n     */\r\n    sProps: { [key: string | number | symbol]: any } = {};\r\n    private switcherParent: HTMLElement | ClearlyHTMLElement | undefined =\r\n        undefined;\r\n\r\n    appendTo(parent: HTMLElement | ClearlyHTMLElement, props: any = {}) {\r\n        this.switcherParent = parent;\r\n        this.sProps = props;\r\n        this.start();\r\n        this.update();\r\n    }\r\n    start() {\r\n        (this.HTML as ClearlyHTMLElement).editAttributes({\r\n            parent: this.switcherParent,\r\n        });\r\n    }\r\n    onSwitch() {}\r\n    get isSwitchable() {\r\n        return true;\r\n    }\r\n}\r\n\r\n/**\r\n * The base class of the Switcher and Router features in ClearlyJS.\r\n * This is an internal class that cannot be used inside your code.\r\n */\r\nabstract class SwitcherRouterBase<\r\n    T extends ClearlySwitcherCurrent | ClearlyRouterCurrent,\r\n    P = {}\r\n> extends ClearlyComponent<{ current: T } & P> {\r\n    protected _switchables: { [key: string]: Switchable } = {};\r\n    constructor(props: ClearlyComponentProps<any>) {\r\n        super(props, true);\r\n        this.clear();\r\n    }\r\n    element() {\r\n        const PARENT = clrly.new(\"div\");\r\n        const current = this.state.current;\r\n        if (current == null) return PARENT;\r\n        const rc = this._get(\r\n            this instanceof Router\r\n                ? (current as ClearlyRouterCurrent).route\r\n                : (current as ClearlySwitcherCurrent).name\r\n        );\r\n        if (rc && rc.isSwitchable) {\r\n            if (\r\n                this instanceof Router &&\r\n                !(current as ClearlyRouterCurrent).browserNavigation\r\n            )\r\n                window.history.pushState(\r\n                    {},\r\n                    \"\",\r\n                    (current as ClearlyRouterCurrent).route\r\n                );\r\n            rc.appendTo(PARENT, current.props);\r\n            rc.onSwitch();\r\n        }\r\n        return PARENT;\r\n    }\r\n    /**\r\n     * Add a new Switchable to the Switchables collection.\r\n     * @param identifier a unique name for the switchable, or a unique URL path for the Router.\r\n     * @param switchable Switchable to add.\r\n     * @returns the identifier.\r\n     */\r\n    add(identifier: string, switchable: Switchable) {\r\n        this._switchables[identifier] = switchable;\r\n        switchable.HTML.remove();\r\n        return identifier;\r\n    }\r\n    /**\r\n     * Set the current switchable to the one with the specified identifier (name or route).\r\n     * You can also pass parameters to the switchable to show with \"props\".\r\n     * @param current an object containing the name or path (route) of the switchable, and the parameters (props) to pass.\r\n     */\r\n    set current(current: T) {\r\n        this.state.current = current;\r\n    }\r\n    clear() {\r\n        this._switchables = {};\r\n    }\r\n    abstract _get(name: string): Switchable;\r\n}\r\n\r\n/**\r\n * The clearlyJS Switcher - a container of multiple Switchable components that shows one switchable at a time.\r\n * The Switcher links each Switchable to an identifier.\r\n */\r\nexport class Switcher extends SwitcherRouterBase<ClearlySwitcherCurrent> {\r\n    _get(name: string) {\r\n        return this._switchables[name];\r\n    }\r\n    get currentName() {\r\n        return this.state.current.name;\r\n    }\r\n}\r\n\r\n/**\r\n * The clearlyJS Router - a  container of multiple Switchable components that shows one switchable at a time.\r\n * The Router links each Switchable to a URL path - to make the effect of moving between actual pages.\r\n */\r\nexport class Router extends SwitcherRouterBase<\r\n    ClearlyRouterCurrent,\r\n    { notFound: Switchable<any> }\r\n> {\r\n    static get NOT_FOUND_PATH() {\r\n        return \"/404\";\r\n    }\r\n    constructor(props: ClearlyComponentProps<any>) {\r\n        super(props);\r\n        const context = this;\r\n        window.onpopstate = async () => await context._navigate(true);\r\n    }\r\n    _get(route: string) {\r\n        route = route.match(/^\\/?([^?#]+?)\\/?(?=\\?|#|$)/)?.[1] as string;\r\n        if (route) {\r\n            for (const expectedRoute in this._switchables) {\r\n                if (expectedRoute.match(`^\\/?${route}\\/?$`)) {\r\n                    return this._switchables[expectedRoute];\r\n                }\r\n            }\r\n        }\r\n        return this._switchables[Router.NOT_FOUND_PATH];\r\n    }\r\n    get currentRoute() {\r\n        return this.state.current.route;\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.add(Router.NOT_FOUND_PATH, this.state.notFound);\r\n    }\r\n    async _navigate(browserNavigation = true) {\r\n        this.current = {\r\n            route:\r\n                window.location.pathname +\r\n                window.location.search +\r\n                window.location.hash,\r\n            props: {},\r\n            browserNavigation: browserNavigation,\r\n        };\r\n    }\r\n    async initialize() {\r\n        await this._navigate(true);\r\n    }\r\n}\r\n\r\n/**\r\n * A pre-made Switchable div element - to use in Switcher and Router.\r\n * Currently, Sdiv doesn't support properties.\r\n */\r\nexport class Sdiv extends Switchable<HTMLDivElement> {\r\n    element() {\r\n        const { children, ...props } = this.state;\r\n        return clrly.new(\"div\", props, ...children);\r\n    }\r\n    onSwitch() {\r\n        this.state.onSwitch?.();\r\n    }\r\n}\r\n\r\nexport default clrly;\r\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","get","SuppressedError","ClearlyComponent","constructor","props","makeState","this","HTML","undefined","isClearlyComponent","clrly","component","Error","start","element","style","update","callStart","el","_c","_b","parentNode","replaceChild","stateObjName","callback","context","Proxy","set","object","key","destroyState","Object","assign","static","type","children","elementProps","_a","_clrly_newElementFromComponent","from","render","editAttributes","newElement","attributes","isClearlyHTML","toRender","parent","document","body","Array","isArray","appendChild","remove","isComponent","attribute","setAttribute","innerHTML","documentElement","selector","querySelector","querySelectorAll","$$","toImport","_clrly_importRec","title","byAttribute","forEach","new","head","property","content","description","name","src","rel","href","color","concat","dir","scalable","options","OPTIONS","ogTitle","ogDescription","icon","ogImage","theme","mobile","mobileFriendly","optionName","option","hex","length","replace","exec","r","parseInt","g","b","h","s","l","c","Math","min","t","n","intermediate","x","max","round","toRGB","convert","hexValue","toString","d","abs","toFixed","level","returnFunc","toHEX","hsl","toHSL","url","window","location","pageUrl","search","hash","decodeURI","substring","URL","searchParams","reload","newWindow","open","go","params","fetch","response","text","catch","json","blob","random","floor","bom","contentArr","push","Uint8Array","createObjectURL","Blob","fileName","a","download","click","_clrly_appendChildrenToElement","child","nodeType","createTextNode","_clrly_newElement","createElement","objectClass","test","elementFunc","localContext","obj","i","link","includes","onload","Switchable","sProps","switcherParent","appendTo","onSwitch","isSwitchable","SwitcherRouterBase","super","_switchables","clear","PARENT","current","rc","_get","Router","route","browserNavigation","history","pushState","add","identifier","switchable","NOT_FOUND_PATH","onpopstate","_navigate","match","expectedRoute","currentRoute","notFound","arguments","pathname","initialize","p","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","currentName"],"mappings":"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","x_google_ignoreList":[0]}